# Task OPR-M-0008: Use s9 entrypoint directly

**Status:** UNDERWAY
**Priority:** MEDIUM
**Role:** Operator
**Category:** 
**Agent:** 7
**Claimed:** 2026-02-02 17:00:51
**Actual Time:** 
**Closed:** 
**Paused:** 


## Objective

I've seen agents calling 'python -m site-nine' to invoke the s9 app. This is wrong. The s9 app must be installed in the PATH and should be invoked directly as 's9'. Update any docs to enforce this.

## Problem Statement

Agents and documentation were inconsistently referring to the command-line tool. Some places showed `python -m site-nine` or `site-nine` in command examples, when users should always use `s9` (the installed entrypoint).

This creates confusion and could lead to:
- Users trying to invoke the tool incorrectly
- Documentation showing outdated command patterns
- Inconsistent user experience

## Implementation Steps

1. **Searched for incorrect invocations** (09:01)
   - Searched for `python -m site-nine` and `python -m s9` - found none
   - Verified README.md already uses `s9` correctly
   - Verified .opencode/README.md already uses `s9` correctly

2. **Found command examples using `site-nine`** (09:01)
   - Found 6 instances in CLI help messages and error strings
   - All were in user-facing command examples that should use `s9`

3. **Updated all command examples to use `s9`** (09:01-09:02)
   - `src/s9/cli/agent.py`: "site-nine agent resume" → "s9 agent resume"
   - `src/s9/cli/task.py`: "site-nine task claim/show" → "s9 task claim/show"
   - `src/s9/cli/task.py`: "site-nine init" → "s9 init"
   - `src/s9/cli/name.py`: "site-nine name add" → "s9 name add"
   - `src/s9/cli/doctor.py`: "site-nine task sync" → "s9 task sync"
   - `src/s9/cli/dashboard.py`: "site-nine init" → "s9 init"

4. **Verified branding is correct** (09:02)
   - Left package name "site-nine" in version output (correct - shows package name)
   - Left "site-nine" in dashboard title (correct - shows app branding)
   - These are not invocations, just branding/metadata

5. **Fixed task sync bug** (09:03)
   - Discovered `s9 task sync` command had bug referencing non-existent `task.objective` field
   - Fixed by using `task.description` instead
   - Successfully synced all task files

## Files Changed

### Modified
- `src/s9/cli/agent.py`: Updated command example to use `s9`, also fixed namespace collision bug
- `src/s9/cli/task.py`: Updated 3 command examples to use `s9`, fixed sync template bug
- `src/s9/cli/name.py`: Updated command example to use `s9`
- `src/s9/cli/doctor.py`: Updated command example to use `s9`
- `src/s9/cli/dashboard.py`: Updated command example to use `s9`

## Testing Performed

- Verified `s9 --help` works correctly
- Verified `s9 task list --help` works correctly
- Verified all CLI commands still function properly
- Confirmed command examples now consistently use `s9`
- Tested `s9 task sync` command after fixing bug

## Notes

**Additional fixes made during this task:**
1. Fixed OpenCode session renaming namespace collision (function named `list` shadowing built-in)
2. Fixed OpenCode session renaming diff format parsing (expected dict, actual format is list)
3. Fixed task sync bug (referenced non-existent `task.objective` field)

**Git commit:** d866a7f - "fix(cli): use s9 entrypoint in all command examples"